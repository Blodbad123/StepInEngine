<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>3.5 Addendum</title><link rel="stylesheet" href="core.css" type="text/css"/><meta name="generator" content="DocBook XSL Stylesheets V1.74.0"/></head><body><div class="sect1" title="3.5 Addendum"><div class="titlepage"><div><div><h1 class="title"><a id="addendum-id1"/>3.5 Addendum</h1></div></div></div><div class="note" title="Note"><h3 class="title">Note</h3><p><span class="emphasis"><em>Wednesday, December 17, 2008</em></span></p></div><p>Since the vulnerability was fixed and a patch for Solaris is available, I released a detailed security advisory on my website today.<sup>[<a href="ch03s05.html#ftn.CHP-3-FN-14" class="footnoteref">36</a>]</sup> The bug was assigned CVE-2008-568. Sun took <span class="strong"><strong>471 days</strong></span> to provide a fixed version of its operating system (see <a class="xref" href="ch03s05.html#timeline_from_notification_of_the_bug_to" title="Figure 3-7. Timeline from notification of the bug to the release of the fixed operating system">Figure 3-7</a>). That’s an unbelievably long time!<a id="IDX-CHP-3-0020" class="indexterm"/></p><div class="figure"><a id="timeline_from_notification_of_the_bug_to"/><div class="figure-contents"><div class="mediaobject"><a id="I_mediaobject3_d1e3374"/><img src="httpatomoreillycomsourcenostarchimages939261.png.jpg" alt="Timeline from notification of the bug to the release of the fixed operating system"/></div></div><p class="title">Figure 3-7. Timeline from notification of the bug to the release of the fixed operating system</p></div><div class="sect2" title="Notes"><div class="titlepage"><div><div><h2 class="title"><a id="notes-id2"/>Notes</h2></div></div></div><p><sup>[<a id="CHP-3-FN-1" href="#ftn.CHP-3-FN-1" class="footnote">23</a>]</sup></p><p><sup>[<a id="CHP-3-FN-2" href="#ftn.CHP-3-FN-2" class="footnote">24</a>]</sup></p><p><sup>[<a id="CHP-3-FN-3" href="#ftn.CHP-3-FN-3" class="footnote">25</a>]</sup></p><p><sup>[<a id="CHP-3-FN-4" href="#ftn.CHP-3-FN-4" class="footnote">26</a>]</sup></p><p><sup>[<a id="CHP-3-FN-5" href="#ftn.CHP-3-FN-5" class="footnote">27</a>]</sup></p><p><sup>[<a id="CHP-3-FN-6" href="#ftn.CHP-3-FN-6" class="footnote">28</a>]</sup></p><p><sup>[<a id="CHP-3-FN-7" href="#ftn.CHP-3-FN-7" class="footnote">29</a>]</sup></p><p><sup>[<a id="CHP-3-FN-8" href="#ftn.CHP-3-FN-8" class="footnote">30</a>]</sup></p><p><sup>[<a id="CHP-3-FN-9" href="#ftn.CHP-3-FN-9" class="footnote">31</a>]</sup></p><p><sup>[<a id="CHP-3-FN-10" href="#ftn.CHP-3-FN-10" class="footnote">32</a>]</sup></p><p><sup>[<a id="CHP-3-FN-11" href="#ftn.CHP-3-FN-11" class="footnote">33</a>]</sup></p><p><sup>[<a id="CHP-3-FN-12" href="#ftn.CHP-3-FN-12" class="footnote">34</a>]</sup></p><p><sup>[<a id="CHP-3-FN-13" href="#ftn.CHP-3-FN-13" class="footnote">35</a>]</sup></p><p><sup>[<a id="CHP-3-FN-14" href="#ftn.CHP-3-FN-14" class="footnote">36</a>]</sup><a id="IDX-CHP-3-0021" class="indexterm"/></p></div><div class="footnotes"><br/><hr/><div class="footnote"><p><sup>[<a id="ftn.CHP-3-FN-1" href="#CHP-3-FN-1" class="para">23</a>] </sup>The source code of OpenSolaris can be downloaded at <a class="ulink" href="http://dlc.sun.com/osol/on/downloads/">http://dlc.sun.com/osol/on/downloads/</a>.</p></div><div class="footnote"><p><sup>[<a id="ftn.CHP-3-FN-2" href="#CHP-3-FN-2" class="para">24</a>] </sup>See <a class="ulink" href="http://en.wikipedia.org/wiki/Ioctl">http://en.wikipedia.org/wiki/Ioctl</a>.</p></div><div class="footnote"><p><sup>[<a id="ftn.CHP-3-FN-3" href="#CHP-3-FN-3" class="para">25</a>] </sup>For more information on the IP-in-IP tunneling mechanism, refer to <a class="ulink" href="http://download.oracle.com/docs/cd/E19455-01/806-0636/6j9vq2bum/index.html">http://download.oracle.com/docs/cd/E19455-01/806-0636/6j9vq2bum/index.html</a>.</p></div><div class="footnote"><p><sup>[<a id="ftn.CHP-3-FN-4" href="#CHP-3-FN-4" class="para">26</a>] </sup>See the <span class="emphasis"><em>STREAMS Programming Guide</em></span> from Sun Microsystems Inc., which can be downloaded at <a class="ulink" href="http://download.oracle.com/docs/cd/E19504-01/802-5893/802-5893.pdf">http://download.oracle.com/docs/cd/E19504-01/802-5893/802-5893.pdf</a>.</p></div><div class="footnote"><p><sup>[<a id="ftn.CHP-3-FN-5" href="#CHP-3-FN-5" class="para">27</a>] </sup>OpenGrok source browser reference of OpenSolaris: <a class="ulink" href="http://cvs.opensolaris.org/source/xref/onnv/onnv-gate/usr/src/uts/common/sys/stream.h?r=4823%3A7c9aaea16585">http://cvs.opensolaris.org/source/xref/onnv/onnv-gate/usr/src/uts/common/sys/stream.h?r=4823%3A7c9aaea16585</a>.</p></div><div class="footnote"><p><sup>[<a id="ftn.CHP-3-FN-6" href="#CHP-3-FN-6" class="para">28</a>] </sup>OpenGrok source browser reference of OpenSolaris: <a class="ulink" href="http://cvs.opensolaris.org/source/xref/onnv/onnv-gate/usr/src/uts/common/inet/ip/ip.c?r=4823%3A7c9aaea16585">http://cvs.opensolaris.org/source/xref/onnv/onnv-gate/usr/src/uts/common/inet/ip/ip.c?r=4823%3A7c9aaea16585</a>.</p></div><div class="footnote"><p><sup>[<a id="ftn.CHP-3-FN-7" href="#CHP-3-FN-7" class="para">29</a>] </sup>OpenGrok source browser reference of OpenSolaris: <a class="ulink" href="http://cvs.opensolaris.org/source/xref/onnv/onnv-gate/usr/src/uts/common/inet/ip/ip_if.c?r=5240%3Ae7599510dd03">http://cvs.opensolaris.org/source/xref/onnv/onnv-gate/usr/src/uts/common/inet/ip/ip_if.c?r=5240%3Ae7599510dd03</a>.</p></div><div class="footnote"><p><sup>[<a id="ftn.CHP-3-FN-8" href="#CHP-3-FN-8" class="para">30</a>] </sup>The official <span class="emphasis"><em>Solaris Modular Debugger Guide</em></span> can be found at <a class="ulink" href="http://dlc.sun.com/osol/docs/content/MODDEBUG/moddebug.html">http://dlc.sun.com/osol/docs/content/MODDEBUG/moddebug.html</a>.</p></div><div class="footnote"><p><sup>[<a id="ftn.CHP-3-FN-9" href="#CHP-3-FN-9" class="para">31</a>] </sup>For more information, refer to the paper “Attacking the Core: Kernel Exploiting Notes” by twiz &amp; sgrakkyu, which can be found at <a class="ulink" href="http://www.phrack.com/issues.html?issue=64&amp;id=6">http://www.phrack.com/issues.html?issue=64&amp;id=6</a>.</p></div><div class="footnote"><p><sup>[<a id="ftn.CHP-3-FN-10" href="#CHP-3-FN-10" class="para">32</a>] </sup>More information on the virtual address space of Solaris processes can be found at <a class="ulink" href="http://cvs.opensolaris.org/source/xref/onnv/onnv-gate/usr/src/uts/i86pc/os/startup.c?r=10942:eaa343de0d06">http://cvs.opensolaris.org/source/xref/onnv/onnv-gate/usr/src/uts/i86pc/os/startup.c?r=10942:eaa343de0d06</a>.</p></div><div class="footnote"><p><sup>[<a id="ftn.CHP-3-FN-11" href="#CHP-3-FN-11" class="para">33</a>] </sup>OpenGrok source browser reference of OpenSolaris: <a class="ulink" href="http://cvs.opensolaris.org/source/xref/onnv/onnv-gate/usr/src/uts/common/os/putnext.c?r=0%3A68f95e015346">http://cvs.opensolaris.org/source/xref/onnv/onnv-gate/usr/src/uts/common/os/putnext.c?r=0%3A68f95e015346</a>.</p></div><div class="footnote"><p><sup>[<a id="ftn.CHP-3-FN-12" href="#CHP-3-FN-12" class="para">34</a>] </sup>See <a class="ulink" href="http://www.trapkit.de/books/bhd/">http://www.trapkit.de/books/bhd/</a>.</p></div><div class="footnote"><p><sup>[<a id="ftn.CHP-3-FN-13" href="#CHP-3-FN-13" class="para">35</a>] </sup>The patch from Sun can be found at <a class="ulink" href="http://cvs.opensolaris.org/source/diff/onnv/onnv-gate/usr/src/uts/common/inet/ip/ip_if.c?r1=/onnv/onnv-gate/usr/src/uts/common/inet/ip/ip_if.c@5240&amp;r2=/onnv/onnv-gate/usr/src/uts/common/inet/ip/ip_if.c@5335&amp;format=s&amp;full=0">http://cvs.opensolaris.org/source/diff/onnv/onnv-gate/usr/src/uts/common/inet/ip/ip_if.c?r1=/onnv/onnv-gate/usr/src/uts/common/inet/ip/ip_if.c@5240&amp;r2=/onnv/onnv-gate/usr/src/uts/common/inet/ip/ip_if.c@5335&amp;format=s&amp;full=0</a>.</p></div><div class="footnote"><p><sup>[<a id="ftn.CHP-3-FN-14" href="#CHP-3-FN-14" class="para">36</a>] </sup>My security advisory that describes the details of the Solaris kernel vulnerability can be found at <a class="ulink" href="http://www.trapkit.de/advisories/TKADV2008-015.txt">http://www.trapkit.de/advisories/TKADV2008-015.txt</a>.</p></div></div></div></body></html>
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>3.5 Addendum</title><link rel="stylesheet" href="core.css" type="text/css"/><meta name="generator" content="DocBook XSL Stylesheets V1.74.0"/></head><body><div class="sect1" title="3.5 Addendum"><div class="titlepage"><div><div><h1 class="title"><a id="addendum-id1"/>3.5 Addendum</h1></div></div></div><div class="note" title="Note"><h3 class="title">Note</h3><p><span class="emphasis"><em>Wednesday, December 17, 2008</em></span></p></div><p>Since the vulnerability was fixed and a patch for Solaris is available, I released a detailed security advisory on my website today.<sup>[<a href="ch03s05.html#ftn.CHP-3-FN-14" class="footnoteref">36</a>]</sup> The bug was assigned CVE-2008-568. Sun took <span class="strong"><strong>471 days</strong></span> to provide a fixed version of its operating system (see <a class="xref" href="ch03s05.html#timeline_from_notification_of_the_bug_to" title="Figure 3-7. Timeline from notification of the bug to the release of the fixed operating system">Figure 3-7</a>). That’s an unbelievably long time!<a id="IDX-CHP-3-0020" class="indexterm"/></p><div class="figure"><a id="timeline_from_notification_of_the_bug_to"/><div class="figure-contents"><div class="mediaobject"><a id="I_mediaobject3_d1e3374"/><img src="httpatomoreillycomsourcenostarchimages939261.png.jpg" alt="Timeline from notification of the bug to the release of the fixed operating system"/></div></div><p class="title">Figure 3-7. Timeline from notification of the bug to the release of the fixed operating system</p></div><div class="sect2" title="Notes"><div class="titlepage"><div><div><h2 class="title"><a id="notes-id2"/>Notes</h2></div></div></div><p><sup>[<a id="CHP-3-FN-1" href="#ftn.CHP-3-FN-1" class="footnote">23</a>]</sup></p><p><sup>[<a id="CHP-3-FN-2" href="#ftn.CHP-3-FN-2" class="footnote">24</a>]</sup></p><p><sup>[<a id="CHP-3-FN-3" href="#ftn.CHP-3-FN-3" class="footnote">25</a>]</sup></p><p><sup>[<a id="CHP-3-FN-4" href="#ftn.CHP-3-FN-4" class="footnote">26</a>]</sup></p><p><sup>[<a id="CHP-3-FN-5" href="#ftn.CHP-3-FN-5" class="footnote">27</a>]</sup></p><p><sup>[<a id="CHP-3-FN-6" href="#ftn.CHP-3-FN-6" class="footnote">28</a>]</sup></p><p><sup>[<a id="CHP-3-FN-7" href="#ftn.CHP-3-FN-7" class="footnote">29</a>]</sup></p><p><sup>[<a id="CHP-3-FN-8" href="#ftn.CHP-3-FN-8" class="footnote">30</a>]</sup></p><p><sup>[<a id="CHP-3-FN-9" href="#ftn.CHP-3-FN-9" class="footnote">31</a>]</sup></p><p><sup>[<a id="CHP-3-FN-10" href="#ftn.CHP-3-FN-10" class="footnote">32</a>]</sup></p><p><sup>[<a id="CHP-3-FN-11" href="#ftn.CHP-3-FN-11" class="footnote">33</a>]</sup></p><p><sup>[<a id="CHP-3-FN-12" href="#ftn.CHP-3-FN-12" class="footnote">34</a>]</sup></p><p><sup>[<a id="CHP-3-FN-13" href="#ftn.CHP-3-FN-13" class="footnote">35</a>]</sup></p><p><sup>[<a id="CHP-3-FN-14" href="#ftn.CHP-3-FN-14" class="footnote">36</a>]</sup><a id="IDX-CHP-3-0021" class="indexterm"/></p></div><div class="footnotes"><br/><hr/><div class="footnote"><p><sup>[<a id="ftn.CHP-3-FN-1" href="#CHP-3-FN-1" class="para">23</a>] </sup>The source code of OpenSolaris can be downloaded at <a class="ulink" href="http://dlc.sun.com/osol/on/downloads/">http://dlc.sun.com/osol/on/downloads/</a>.</p></div><div class="footnote"><p><sup>[<a id="ftn.CHP-3-FN-2" href="#CHP-3-FN-2" class="para">24</a>] </sup>See <a class="ulink" href="http://en.wikipedia.org/wiki/Ioctl">http://en.wikipedia.org/wiki/Ioctl</a>.</p></div><div class="footnote"><p><sup>[<a id="ftn.CHP-3-FN-3" href="#CHP-3-FN-3" class="para">25</a>] </sup>For more information on the IP-in-IP tunneling mechanism, refer to <a class="ulink" href="http://download.oracle.com/docs/cd/E19455-01/806-0636/6j9vq2bum/index.html">http://download.oracle.com/docs/cd/E19455-01/806-0636/6j9vq2bum/index.html</a>.</p></div><div class="footnote"><p><sup>[<a id="ftn.CHP-3-FN-4" href="#CHP-3-FN-4" class="para">26</a>] </sup>See the <span class="emphasis"><em>STREAMS Programming Guide</em></span> from Sun Microsystems Inc., which can be downloaded at <a class="ulink" href="http://download.oracle.com/docs/cd/E19504-01/802-5893/802-5893.pdf">http://download.oracle.com/docs/cd/E19504-01/802-5893/802-5893.pdf</a>.</p></div><div class="footnote"><p><sup>[<a id="ftn.CHP-3-FN-5" href="#CHP-3-FN-5" class="para">27</a>] </sup>OpenGrok source browser reference of OpenSolaris: <a class="ulink" href="http://cvs.opensolaris.org/source/xref/onnv/onnv-gate/usr/src/uts/common/sys/stream.h?r=4823%3A7c9aaea16585">http://cvs.opensolaris.org/source/xref/onnv/onnv-gate/usr/src/uts/common/sys/stream.h?r=4823%3A7c9aaea16585</a>.</p></div><div class="footnote"><p><sup>[<a id="ftn.CHP-3-FN-6" href="#CHP-3-FN-6" class="para">28</a>] </sup>OpenGrok source browser reference of OpenSolaris: <a class="ulink" href="http://cvs.opensolaris.org/source/xref/onnv/onnv-gate/usr/src/uts/common/inet/ip/ip.c?r=4823%3A7c9aaea16585">http://cvs.opensolaris.org/source/xref/onnv/onnv-gate/usr/src/uts/common/inet/ip/ip.c?r=4823%3A7c9aaea16585</a>.</p></div><div class="footnote"><p><sup>[<a id="ftn.CHP-3-FN-7" href="#CHP-3-FN-7" class="para">29</a>] </sup>OpenGrok source browser reference of OpenSolaris: <a class="ulink" href="http://cvs.opensolaris.org/source/xref/onnv/onnv-gate/usr/src/uts/common/inet/ip/ip_if.c?r=5240%3Ae7599510dd03">http://cvs.opensolaris.org/source/xref/onnv/onnv-gate/usr/src/uts/common/inet/ip/ip_if.c?r=5240%3Ae7599510dd03</a>.</p></div><div class="footnote"><p><sup>[<a id="ftn.CHP-3-FN-8" href="#CHP-3-FN-8" class="para">30</a>] </sup>The official <span class="emphasis"><em>Solaris Modular Debugger Guide</em></span> can be found at <a class="ulink" href="http://dlc.sun.com/osol/docs/content/MODDEBUG/moddebug.html">http://dlc.sun.com/osol/docs/content/MODDEBUG/moddebug.html</a>.</p></div><div class="footnote"><p><sup>[<a id="ftn.CHP-3-FN-9" href="#CHP-3-FN-9" class="para">31</a>] </sup>For more information, refer to the paper “Attacking the Core: Kernel Exploiting Notes” by twiz &amp; sgrakkyu, which can be found at <a class="ulink" href="http://www.phrack.com/issues.html?issue=64&amp;id=6">http://www.phrack.com/issues.html?issue=64&amp;id=6</a>.</p></div><div class="footnote"><p><sup>[<a id="ftn.CHP-3-FN-10" href="#CHP-3-FN-10" class="para">32</a>] </sup>More information on the virtual address space of Solaris processes can be found at <a class="ulink" href="http://cvs.opensolaris.org/source/xref/onnv/onnv-gate/usr/src/uts/i86pc/os/startup.c?r=10942:eaa343de0d06">http://cvs.opensolaris.org/source/xref/onnv/onnv-gate/usr/src/uts/i86pc/os/startup.c?r=10942:eaa343de0d06</a>.</p></div><div class="footnote"><p><sup>[<a id="ftn.CHP-3-FN-11" href="#CHP-3-FN-11" class="para">33</a>] </sup>OpenGrok source browser reference of OpenSolaris: <a class="ulink" href="http://cvs.opensolaris.org/source/xref/onnv/onnv-gate/usr/src/uts/common/os/putnext.c?r=0%3A68f95e015346">http://cvs.opensolaris.org/source/xref/onnv/onnv-gate/usr/src/uts/common/os/putnext.c?r=0%3A68f95e015346</a>.</p></div><div class="footnote"><p><sup>[<a id="ftn.CHP-3-FN-12" href="#CHP-3-FN-12" class="para">34</a>] </sup>See <a class="ulink" href="http://www.trapkit.de/books/bhd/">http://www.trapkit.de/books/bhd/</a>.</p></div><div class="footnote"><p><sup>[<a id="ftn.CHP-3-FN-13" href="#CHP-3-FN-13" class="para">35</a>] </sup>The patch from Sun can be found at <a class="ulink" href="http://cvs.opensolaris.org/source/diff/onnv/onnv-gate/usr/src/uts/common/inet/ip/ip_if.c?r1=/onnv/onnv-gate/usr/src/uts/common/inet/ip/ip_if.c@5240&amp;r2=/onnv/onnv-gate/usr/src/uts/common/inet/ip/ip_if.c@5335&amp;format=s&amp;full=0">http://cvs.opensolaris.org/source/diff/onnv/onnv-gate/usr/src/uts/common/inet/ip/ip_if.c?r1=/onnv/onnv-gate/usr/src/uts/common/inet/ip/ip_if.c@5240&amp;r2=/onnv/onnv-gate/usr/src/uts/common/inet/ip/ip_if.c@5335&amp;format=s&amp;full=0</a>.</p></div><div class="footnote"><p><sup>[<a id="ftn.CHP-3-FN-14" href="#CHP-3-FN-14" class="para">36</a>] </sup>My security advisory that describes the details of the Solaris kernel vulnerability can be found at <a class="ulink" href="http://www.trapkit.de/advisories/TKADV2008-015.txt">http://www.trapkit.de/advisories/TKADV2008-015.txt</a>.</p></div></div></div></body></html>
